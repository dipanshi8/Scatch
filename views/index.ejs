<%- include('./partials/header') %>

<% if(error && error.length>0){ %>
    <div class="fixed top-5 left-1/2 transform -translate-x-1/2 z-50 p-4 rounded-md bg-red-500 shadow-lg">
        <span class="text-white font-medium">
            <%= error[0] %>
        </span>
    </div>
<% } %>

<% if(success && success.length>0){ %>
    <div class="fixed top-5 left-1/2 transform -translate-x-1/2 z-50 p-4 rounded-md bg-green-500 shadow-lg">
        <span class="text-white font-medium">
            <%= success[0] %>
        </span>
    </div>
<% } %>

<div class="min-h-screen flex flex-col md:flex-row">
    <!-- Register Section -->
    <div class="w-full md:w-1/2 flex items-center justify-center bg-gradient-to-br from-blue-50 to-white p-8 md:p-20">
        <div class="w-full max-w-md">
            <h3 class="text-4xl font-bold mb-2">Welcome to <span class="text-blue-600">Scatch</span></h3>
            <h4 class="text-2xl mb-8 text-gray-600">Create your account</h4>
            <form autocomplete="off" action="/users/register" method="post" class="space-y-4">
                <input
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    type="text" placeholder="Full Name" name="fullname" required>
                <input
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    type="email" placeholder="Email" name="email" required>
                <input
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    type="password" placeholder="Password" name="password" required minlength="6">
                <button class="w-full px-5 py-3 rounded-lg bg-blue-500 text-white font-semibold hover:bg-blue-600 transition" type="submit">
                    Create My Account
                </button>
            </form>
        </div>
    </div>
    
    <!-- Login Section -->
    <div class="w-full md:w-1/2 flex items-center justify-center bg-gradient-to-br from-gray-50 to-white p-8 md:p-20">
        <div class="w-full max-w-md">
            <h4 class="text-2xl font-semibold mb-8">Login to your account</h4>
            <form autocomplete="off" action="/users/login" method="post" class="space-y-4">
                <input
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    type="email" placeholder="Email" name="email" required>
                <input
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    type="password" placeholder="Password" name="password" required>
                <button class="w-full px-5 py-3 rounded-lg bg-blue-500 text-white font-semibold hover:bg-blue-600 transition" type="submit">
                    Login
                </button>
            </form>
            <div class="mt-6 text-center">
                <a href="/shop" class="text-blue-600 hover:text-blue-800">Continue as Guest â†’</a>
            </div>
            <div class="mt-4 text-center">
                <a href="/owners/login" class="text-gray-600 hover:text-gray-800 text-sm">Admin Login</a>
            </div>
        </div>
    </div>
</div>

<script>
// Auto-hide flash messages after 5 seconds
setTimeout(() => {
    const messages = document.querySelectorAll('.fixed');
    messages.forEach(msg => {
        msg.style.transition = 'opacity 0.5s';
        msg.style.opacity = '0';
        setTimeout(() => msg.remove(), 500);
    });
}, 5000);
</script>

<%- include('./partials/footer') %>